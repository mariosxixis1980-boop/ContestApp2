<!doctype html>
<html lang="el">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Admin â€¢ Cyprus Match Predict</title>
<style>
:root{
  --bg:#070b13;--b:rgba(255,255,255,.12);
  --t:#eaf1ff;--m:rgba(255,255,255,.65);
  --g:rgba(46,204,113,.20);--gb:rgba(46,204,113,.45);
  --a:rgba(241,196,15,.16);--ab:rgba(241,196,15,.45);
  --r:rgba(231,76,60,.14);--rb:rgba(231,76,60,.45);
  --bl:rgba(52,152,219,.18);--blb:rgba(52,152,219,.45);
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
body{
  margin:0;min-height:100vh;padding:14px;color:var(--t);
  background:
    radial-gradient(900px 700px at 20% 0%,rgba(40,110,255,.25),transparent 55%),
    radial-gradient(900px 700px at 80% 10%,rgba(0,255,170,.18),transparent 55%),
    var(--bg);
}
.card{
  max-width:1100px;margin:0 auto;border:1px solid var(--b);
  border-radius:18px;padding:14px;
  background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.04));
  box-shadow:0 18px 60px rgba(0,0,0,.55);
}
h1{margin:0;font-size:40px}
.sub{margin-top:6px;color:var(--m);font-weight:700}
.row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center}
.pill{
  padding:8px 12px;border:1px solid var(--b);border-radius:999px;
  background:rgba(0,0,0,.25);font-weight:800
}
.btn,button,a.btn{
  border:1px solid var(--b);background:rgba(255,255,255,.06);color:var(--t);
  padding:10px 12px;border-radius:14px;font-weight:900;cursor:pointer;
  text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:8px
}
button:disabled{opacity:.55;cursor:not-allowed}
.g{background:var(--g);border-color:var(--gb)}
.a{background:var(--a);border-color:var(--ab)}
.r{background:var(--r);border-color:var(--rb)}
.bl{background:var(--bl);border-color:var(--blb)}
.grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
@media(min-width:980px){.grid{grid-template-columns:1.25fr .75fr}}
.box{border:1px solid var(--b);border-radius:16px;background:rgba(0,0,0,.18);padding:12px}
.big{font-size:18px;font-weight:950}
.mini{color:var(--m);font-weight:750}
input,textarea,select{
  width:100%;padding:10px;border-radius:12px;border:1px solid var(--b);
  background:rgba(0,0,0,.28);color:var(--t);outline:none
}
textarea{min-height:76px;resize:vertical}
label{display:block;margin-top:8px;color:var(--m);font-weight:800}
.match{border:1px solid var(--b);border-radius:16px;background:rgba(0,0,0,.18);padding:12px;margin-top:10px}
.off{background:rgba(0,0,0,.45);opacity:.92}
.resultsLockedCard{background:rgba(231,76,60,.12)!important;border-color:rgba(231,76,60,.45)!important}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid rgba(255,255,255,.10);padding:10px;text-align:left;vertical-align:top}
th{color:var(--m)}
hr{border:none;border-top:1px solid rgba(255,255,255,.10);margin:12px 0}

/* âœ… Inline notification (Î±Î½Ï„Î¯ toast) */
.notice{
  display:none;
  border:1px solid var(--b);
  border-radius:16px;
  background:rgba(0,0,0,.18);
  padding:10px 12px;
  margin-top:12px;
  font-weight:900;
}
.notice.ok{ border-color:rgba(46,204,113,.45); background:rgba(46,204,113,.12); }
.notice.warn{ border-color:rgba(241,196,15,.45); background:rgba(241,196,15,.10); }
.notice.err{ border-color:rgba(231,76,60,.45); background:rgba(231,76,60,.12); }
</style>
</head>

<body>
<div class="card">

  <div style="text-align:center;margin-bottom:12px;">
    <div style="font-size:18px;font-weight:700;">Cyprus Match Predict</div>
    <div style="font-size:13px;color:#C9A24D;letter-spacing:2px;margin-top:4px;">ğŸ‡¨ğŸ‡¾ ADMIN ğŸ‡¨ğŸ‡¾</div>
  </div>

  <h1>ğŸ› ï¸ Admin</h1>
  <div class="sub">RESET (Î½Î­Î¿Ï‚ Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒÏ‚), ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿Ï, Î±Î³ÏÎ½ÎµÏ‚/OFF, Ï„ÎµÎ»Î¹ÎºÎ¬, ÎºÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï„ÎµÎ»Î¹ÎºÏÎ½ (auto Î²Î±Î¸Î¼Î¿Î¯), close&next (24h cleanup), ÎµÎ½ÎµÏÎ³Î¿Î¯/users/â‚¬1.99, Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿Ï….</div>

  <div class="row">
    <a class="btn" href="dashboard.html">â† Dashboard</a>
    <a class="btn" href="leaderboard.html">ğŸ† Leaderboard</a>
    <button class="btn r" id="lo" type="button">Logout</button>
    <div class="pill" id="w">User:-</div>
    <div class="pill" id="st">Admin:-</div>
    <div class="pill" id="ciTop">Contest:-</div>
    <div class="pill" id="wk">Î‘Î³Ï‰Î½Î¹ÏƒÏ„Î¹ÎºÎ®:-</div>
    <div class="pill" id="dlTop">Deadline:-</div>
    <button class="btn" id="re" type="button">â†» Î¦ÏŒÏÏ„Ï‰ÏƒÎµ</button>
  </div>

  <!-- âœ… Inline feedback area -->
  <div id="notice" class="notice"></div>

  <div id="guard" class="box" style="display:none;border-color:rgba(231,76,60,.45);background:rgba(231,76,60,.14);margin-top:12px">
    <b>Î”ÎµÎ½ ÎµÎ¯ÏƒÎ±Î¹ admin.</b>
    <div class="row"><a class="btn" href="login.html">Login</a></div>
  </div>

  <div id="panel" style="display:none;margin-top:12px">
    <div class="grid">

      <!-- LEFT -->
      <div class="box">

        <div class="row" style="margin-top:0">
          <button class="btn r" id="nc" type="button">ğŸ§¨ ÎÎ­Î¿Ï‚ Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒÏ‚ (RESET)</button>
          <button class="btn a" id="startBtn" type="button">ğŸŸ¡ ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿Ï (ÎˆÎ½Î±ÏÎ¾Î·)</button>
          <button class="btn a" id="lk" type="button">ğŸ”“ Î‘Î³ÏÎ½ÎµÏ‚ Î±Î½Î¿Î¹ÎºÏ„Î¿Î¯ (Ï€Î¬Ï„Î±)</button>
        </div>

        <div class="row">
          <div class="pill" id="ci">Contest:-</div>
          <div class="pill" id="ri">Round:-</div>
          <div class="pill" id="li">Î‘Î³ÏÎ½ÎµÏ‚:-</div>
          <div class="pill" id="dl">Deadline:-</div>
        </div>

        <div class="box" style="margin-top:10px">
          <div class="big">ğŸ Î’ÏÎ±Î²ÎµÎ¯Î¿ <span class="pill" id="pt" style="font-weight:900">-</span></div>
          <div class="mini">Î’ÏÎ±Î²ÎµÎ¯Î¿ + Î»Î®Î¾Î· ÎºÎ»ÎµÎ¹Î´ÏÎ½Î¿Ï…Î½ ÎœÎŸÎÎŸ ÏŒÏ„Î±Î½ Ï€Î±Ï„Î®ÏƒÎµÎ¹Ï‚ Â«ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿ÏÂ».</div>

          <label>ÎšÎµÎ¯Î¼ÎµÎ½Î¿</label>
          <textarea id="pz" placeholder="Ï€.Ï‡ Î ÏÏŒÎ²Î»ÎµÏˆÎµ, Î²Î³ÎµÏ‚ 1Î¿Ï‚ ÎºÎ±Î¹ ÎºÎ­ÏÎ´Î¹ÏƒÎµ PS5!"></textarea>
          <div class="row">
            <button class="btn g" id="ps" type="button">ğŸ’¾ Save</button>
            <button class="btn r" id="pc" type="button">ğŸ§½ Clear</button>
          </div>

          <label>Î›Î®Î¾Î· Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿Ï (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ)</label>
          <input id="end" type="date"/>
          <div class="row">
            <button class="btn bl" id="es" type="button">ğŸ’¾ Save</button>
            <button class="btn" id="ec" type="button">ğŸ§½ Clear</button>
          </div>
        </div>

        <div class="box" style="margin-top:10px">
          <div class="big">â• Î‘Î³ÏÎ½Î±Ï‚ (Î¼Î­Ï‡ÏÎ¹ 10)</div>
          <div class="mini">ÎœÎµÏ„Î¬ Ï„Î¿ deadline Î´ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹Ï‚ teams/ÏÏÎ±. OFF & Ï„ÎµÎ»Î¹ÎºÎ¬ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹ Î¼Î­Ï‡ÏÎ¹ Î½Î± ÎºÎ»ÎµÎ¹Î´ÏÏƒÎµÎ¹Ï‚ Ï„ÎµÎ»Î¹ÎºÎ¬.</div>
          <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±</label><input id="d" type="date"/>
          <label>ÎÏÎ±</label><input id="t" type="time"/>
          <label>Î“Î·Ï€ÎµÎ´Î¿ÏÏ‡Î¿Ï‚</label><input id="h" placeholder="Ï€.Ï‡ ÎŸÎœÎŸÎÎŸÎ™Î‘"/>
          <label>Î¦Î¹Î»Î¿Î¾ÎµÎ½Î¿ÏÎ¼ÎµÎ½Î¿Ï‚</label><input id="a" placeholder="Ï€.Ï‡ Î‘Î ÎŸÎ•Î›"/>
          <div class="row"><button class="btn g" id="ad" type="button">Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·</button></div>
        </div>

        <div class="box" style="margin-top:10px">
          <div class="row" style="margin-top:0">
            <button class="btn a" id="lockResultsBtn" type="button">ğŸŸ¡ ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î¤ÎµÎ»Î¹ÎºÏÎ½</button>
            <button class="btn a" id="nx" type="button">ğŸŸ¡ Close & Next</button>
            <button class="btn" id="finalWeekBtn" type="button">ğŸ Final Week: -</button>
          </div>
          <div class="mini" id="hint" style="margin-top:8px">
            Î’Î¬Î»Îµ Ï„ÎµÎ»Î¹ÎºÎ¬ (ÏƒÎµ ON) ÎºÎ±Î¹ Ï€Î¬Ï„Î± Â«ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î¤ÎµÎ»Î¹ÎºÏÎ½Â» Î³Î¹Î± Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î±. ÎœÎµÏ„Î¬ Î¿Î¹ Î²Î±Î¸Î¼Î¿Î¯ Î¼Ï€Î±Î¯Î½Î¿Ï…Î½ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±.
          </div>
        </div>

        <div id="ms" style="margin-top:10px"></div>
      </div>

      <!-- RIGHT -->
      <div class="box">
        <div class="big">ğŸ‘¥ Î•Î½ÎµÏÎ³Î¿Î¯ / Users / â‚¬1.99</div>
        <div class="row">
          <button class="btn" id="ab" type="button">ğŸŸ¢ Î•Î½ÎµÏÎ³Î¿Î¯ (contest)</button>
          <button class="btn" id="ub" type="button">ğŸ“‹ Users</button>
          <button class="btn" id="hb" type="button">ğŸ’¶ â‚¬1.99</button>
        </div>
        <div id="side" style="margin-top:10px"></div>

        <hr/>

        <div class="big">âš½ Î’Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±</div>
        <div class="mini">Î— Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î± Î¼Ï€Î±Î¯Î½ÎµÎ¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± ÏŒÏ„Î±Î½ ÎºÎ¬Î½ÎµÎ¹Ï‚ Â«ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Î¤ÎµÎ»Î¹ÎºÏÎ½Â». (ÎœÏ€Î¿ÏÎµÎ¯Ï‚ ÎºÎ±Î¹ Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î±.)</div>
        <div class="row">
          <button class="btn bl" id="sc" type="button">ğŸ§® Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ (Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î±)</button>
        </div>

        <hr/>

        <div class="big">ğŸ“… Î•Ï€ÏŒÎ¼ÎµÎ½Î¿Ï‚ Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒÏ‚</div>
        <div class="mini">Î‘Ï…Ï„ÏŒ Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ login Ï€ÏÎ¹Î½ Î¼Ï€ÎµÎ¹ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚.</div>
        <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î­Î½Î±ÏÎ¾Î·Ï‚ (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ)</label>
        <input id="nextStart" type="date"/>
        <div class="row">
          <button class="btn bl" id="nsSave" type="button">ğŸ’¾ Save</button>
          <button class="btn" id="nsClear" type="button">ğŸ§½ Clear</button>
        </div>
        <div class="mini" id="nsPreview" style="margin-top:8px">-</div>
      </div>

    </div>
  </div>
</div>

<script src="admin.js"></script>
  <script type="module">
import { supabase } from "./supabase.js";

// ğŸ”’ PROTECT ADMIN
const { data: { session } } = await supabase.auth.getSession();

if (!session) {
  location.replace("login.html");
}

// email admin (Î²Î¬Î¶ÎµÎ¹Ï‚ Î¤ÎŸ Î”Î™ÎšÎŸ Î£ÎŸÎ¥)
const ADMIN_EMAIL = "mariosxixis1980@gmail.com";

if (session.user.email !== ADMIN_EMAIL) {
  location.replace("login.html");
}
</script>

</body>
</html>
